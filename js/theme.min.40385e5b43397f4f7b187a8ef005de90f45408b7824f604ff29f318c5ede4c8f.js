(()=>{"use strict";const n="theme",e={LIGHT:"light",DARK:"dark",AUTO:"auto"},s=document.body,r=s.dataset.theme,t=()=>{const t=localStorage.getItem(n);if(t)return t;const s=window.matchMedia("(prefers-color-scheme: dark)").matches;return r?s?e.DARK:e.LIGHT:e.LIGHT},l=t=>{const s=document.querySelector("section.article.discussion");if(!s)return;const o="https://utteranc.es/client.js",i="pathname",a=t===e.DARK?"github-dark":"github-light";let n=document.createElement("script");n.src=o,n.dataset.repo="scape2007/yacd-meta",n.dataset.issueTerm=i,n.dataset.theme=a,n.setAttribute("crossorigin","anonymous"),n.setAttribute("async",""),s.innerHTML="",s.appendChild(n)},o=t=>{const n=document.querySelector("iframe.giscus-frame");if(!n)return;const s=t===e.DARK?"transparent_dark":"light_tritanopia",o={giscus:{setConfig:{theme:s}}};n.contentWindow.postMessage(o,"https://giscus.app")},i=t=>{document.documentElement.classList.toggle(e.DARK,t===e.DARK),document.documentElement.classList.toggle(e.LIGHT,t!==e.DARK),o(t)};i(t()),requestAnimationFrame(()=>s.removeAttribute("class"));const c=()=>{const o=t(),s=o===e.DARK?e.LIGHT:e.DARK;localStorage.setItem(n,s),i(s)};function a(e){if(e.origin!=="https://giscus.app")return;if(typeof e.data!="object"||!e.data.giscus)return;o(t()),window.removeEventListener("message",a)}window.addEventListener("message",a),window.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("mode");e.addEventListener("click",c)})})()