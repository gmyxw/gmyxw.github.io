<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="zhili">
<meta name="description" content="Sed magna purus, fermentum eu, tincidunt eu, varius ut, felis. Morbi mollis tellus ac sapien. Vestibulum ullamcorper mauris at ligula. In hac habitasse platea dictumst. Vivamus in erat ut urna cursus vestibulum.
    ">
<meta name="keywords" content="博客, 技术, 生物信息，精准医疗, 遗传咨询, 高通量技术, 算法, 学习, 作品, 写作, C&#43;&#43;, Perl">
<meta name="referrer" content="always">
<title>javascript中的各种简写总结（不断更新） - zhili</title>
<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="icon" href="/logo/favicon.ico" type="image/x-icon">
</head>
<body>
<header>
  <div>
    <h1><a href="https://sy123.netlify.app/">zhili</a></h1>
  </div>
  <nav><a href="/file/">Files</a><a href="/tags/">Tags</a><a href="/about/">About</a></nav>
</header>
<main>
  <article>
    <div class="title">
  <h1>javascript中的各种简写总结（不断更新）</h1>
  </div>
<div class="meta">
  <div>2020-02-28 17:09</div>
  <div>
    <span><a href="https://sy123.netlify.app/tags/js/">#js</a></span>
      </div>
  </div>
<div class="content">
  <p>在看书的时候，搜<code>void 0</code>时，看到有人列出过类似的例子，所以延伸着搜索了一堆简写的例子整理出来。</p>
<p>这里的简写，包括比如<code>void 0</code>代替<code>undefined</code>这类值替代，</p>
<p>也包括了箭头函数替代普通函数、<code>for</code>循环各种写法中性能最好的这类写法替代，</p>
<p>还想到了以前面试的时候看到的<code>es6</code>面试题，数组去重，最简单的方法是用<code>set</code>和<code>Array.from</code>。</p>
<p>类似的都会整理出来，以后遇到了新的也会更新上来。</p>
<p>2018/12/22</p>
<p>（1）取整，位运算更快。原因介绍：参考：位运算实现的原因</p>
<p>位运算取整（更快）</p>
<p>位运算取整：下述，都可以</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">~~</span>a; <span style="color:#998;font-style:italic">//双非位操作符
</span><span style="color:#998;font-style:italic"></span>a<span style="color:#000;font-weight:bold">|</span><span style="color:#099">0</span>;
<span style="color:#a61717;background-color:#e3d2d2">。。。</span>

</code></pre></td></tr></table>
</div>
</div><p>（2）四舍五入（0.5规定向上取整），位运算更快</p>
<p>位运算的四舍五入，负数不适配</p>
<p>位运算适合正数的四舍五入，但是负数只能舍，不能入。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">a<span style="color:#000;font-weight:bold">+</span><span style="color:#099">0.5</span><span style="color:#000;font-weight:bold">|</span><span style="color:#099">0</span>;
<span style="color:#000;font-weight:bold">~~</span>(a<span style="color:#000;font-weight:bold">+</span><span style="color:#099">0.5</span>);
<span style="color:#a61717;background-color:#e3d2d2">。。。</span>

</code></pre></td></tr></table>
</div>
</div><p>（3）内置值 <code>undefined</code></p>
<p>undefined替代</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">void</span> <span style="color:#099">0</span>; <span style="color:#998;font-style:italic">// 快
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">0</span>[<span style="color:#099">0</span>]; <span style="color:#998;font-style:italic">// 略慢
</span><span style="color:#998;font-style:italic"></span>
</code></pre></td></tr></table>
</div>
</div><p>（4）内置值 Infinity</p>
<p>Infinity替代</p>
<p>1/0;
（5）布尔值短写法</p>
<p>布尔值短写法</p>
<p>!0; // true
!1; //false
（6）十进制指数（想当初，刚学c的时候，我一直都用pow(10,n)）
10000000000 === 1e10</p>
<p>（7）三元运算符 ? :
还用于简化函数的调用。</p>
<p>function x() { console.log(&lsquo;x&rsquo;) };
function y() { console.log(&lsquo;y&rsquo;) };
let z = 3;
简化前：</p>
<p>if (z == 3) {
x();
} else {
y();
}
简化后：</p>
<p>(z==3?x:y)(); //x
（8）短路求值 &amp;&amp; ||
当给一个变量分配另一个值时，想确定源始值不是null，undefined或空值。可以写撰写一个多重条件的if语句。</p>
<p>if (variable1 !== null || variable1 !== undefined || variable1 !== &lsquo;') {
let variable2 = variable1;
}
或者可以使用短路求值方法：</p>
<p>const variable2 = variable1 || &lsquo;backupValue&rsquo;;
（9）声明变量简写
let x;
let y;
let z = 3;
简写方法：</p>
<p>let x, y, z=3;
（10）if存在条件简写
if ( a ) { }
if ( !a ) { }
（11）js循环简写
虽说，有for (variable in object) {} 用于遍历对象属性名，</p>
<p>for (variable of iterable) {} 用于遍历对象属性值（但不适用于普通自定义对象），</p>
<p>for ( var key of Object.keys( someObject ) ) { } for-of结合Object.keys可以遍历普通对象属性值，</p>
<p>Array.prototype.forEach遍历数组和类数组对象，</p>
<p>但是，从性能上来讲还是最原始的for( ; ; )运行最快，所以非必要的时候还是使用原始for循环。</p>
<p>//性能最优化，但是可读性低
var i; //优化变量声明
var divs = document.getElementsByTagName(&ldquo;div&rdquo;);
for( i = divs.length-1; i &gt;= 0; i -= 1 ){
//优化循环中动态集合读取、减值迭代、用i-=1 代替 i&ndash;
}
//合理的循环优化，以优化性能的前提下兼顾可读性
var i,len;
var divs = document.getElementsByTagName(&ldquo;div&rdquo;);
for( i = 0, len = divs.length; i &lt; len; i++ ){
}
参考：各种循环遍历对比</p>
<p>（12）对象属性简写
如果属性名与key名相同，则可以采用ES6的方法：</p>
<p>const obj = { x: x, y: y };
简写：</p>
<p>const obj = { x, y };
（13）箭头函数简写
要注意箭头函数的特性：</p>
<p>1）this指向定义时的环境。2）不可new实例化。3）this不可变。4）没有arguments对象。</p>
<p>常用于内部函数，增强可读性。</p>
<p>function sayHello(name) {
console.log(&lsquo;Hello&rsquo;, name);
}
setTimeout(function() {
console.log(&lsquo;Loaded&rsquo;);
}, 2000);
list.forEach(function(item) {
console.log(item);
});
简写：</p>
<p>sayHello = name =&gt; console.log(&lsquo;Hello&rsquo;, name);
setTimeout(() =&gt; console.log(&lsquo;Loaded&rsquo;), 2000);
list.forEach(item =&gt; console.log(item));
（14）箭头函数中的省略return写法
(参数1,参数2,…,参数N) =&gt; 表达式（单一）</p>
<p>// 相当于：(参数1, 参数2, …, 参数N) =&gt; { return 表达式; }</p>
<p>function calcCircumference(diameter) {
return Math.PI * diameter
}
var func = function func() {
return { foo: 1 };
};
简写：</p>
<p>calcCircumference = diameter =&gt; (Math.PI * diameter);
var func = () =&gt; ({ foo: 1 });
（15）默认参数值
为了给函数中参数传递默认值，通常使用if语句来编写，但是使用ES6定义默认值，则会很简洁：</p>
<p>function volume(l, w, h) {
if (w === undefined)
w = 3;
if (h === undefined)
h = 4;
return l * w * h;
}
简写：</p>
<p>volume = (l, w = 3, h = 4 ) =&gt; (l * w * h);
volume(2) // 24
（16）强制参数简写
JavaScript中如果没有向函数参数传递值，则参数为undefined。为了增强参数赋值，可以使用if语句来抛出异常，或使用强制参数简写方法。</p>
<p>function foo(bar) {
if(bar === undefined) {
throw new Error(&lsquo;Missing parameter!');
}
return bar;
}
简写：</p>
<p>mandatory = () =&gt; {
throw new Error(&lsquo;Missing parameter!');
}
foo = (bar = mandatory()) =&gt; {
return bar;
}
（17）模板字符串简写
es6中的模板字符串可以保留空白符（换行、空格、制表符）和传参。</p>
<p>模板字符串中的传参、换行、空格</p>
<p>const db = &lsquo;Our database is\n\t&rsquo;</p>
<ul>
<li>&lsquo;http://&rsquo; + host + &lsquo;:&rsquo; + port + &lsquo;/&rsquo; + database;
简写：</li>
</ul>
<p>const db = <code>Our database is http://${host}:${port}/${database}</code>;
（18）解构赋值简写
在web框架中，经常需要从组件和API之间来回传递数组或对象字面形式的数据，然后需要解构它</p>
<p>const observable = require(&lsquo;mobx/observable&rsquo;);
const action = require(&lsquo;mobx/action&rsquo;);
const runInAction = require(&lsquo;mobx/runInAction&rsquo;);</p>
<p>const store = this.props.store;
const form = this.props.form;
const loading = this.props.loading;
const errors = this.props.errors;
const entity = this.props.entity;
简写：</p>
<p>import { observable, action, runInAction } from &lsquo;mobx&rsquo;;
const { store, form, loading, errors, entity } = this.props;
也可以分配变量名：</p>
<p>const { store, form, loading, errors, entity:contact } = this.props;
//最后一个变量名为contact
（19）扩展运算符简写，数组，对象</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#998;font-style:italic">// joining arrays
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> odd <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>, <span style="color:#099">3</span>, <span style="color:#099">5</span>];
<span style="color:#000;font-weight:bold">const</span> nums <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">2</span> ,<span style="color:#099">4</span> , <span style="color:#099">6</span>].concat(odd);
<span style="color:#998;font-style:italic">// cloning arrays
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> arr <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">4</span>];
<span style="color:#000;font-weight:bold">const</span> arr2 <span style="color:#000;font-weight:bold">=</span> arr.slice()

</code></pre></td></tr></table>
</div>
</div><p>简写：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#998;font-style:italic">// joining arrays
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> odd <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>, <span style="color:#099">3</span>, <span style="color:#099">5</span> ];
<span style="color:#000;font-weight:bold">const</span> nums <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">2</span> ,<span style="color:#099">4</span> , <span style="color:#099">6</span>, ...odd]; <span style="color:#998;font-style:italic">// [ 2, 4, 6, 1, 3, 5 ]
</span><span style="color:#998;font-style:italic">// cloning arrays
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> arr <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">4</span>];
<span style="color:#000;font-weight:bold">const</span> arr2 <span style="color:#000;font-weight:bold">=</span> [...arr]; <span style="color:#998;font-style:italic">// [1, 2, 3, 4]
</span><span style="color:#998;font-style:italic"></span>还使用扩展运算符来在一个数组中任意处插入另一个数组<span style="color:#a61717;background-color:#e3d2d2">：</span>

<span style="color:#000;font-weight:bold">const</span> odd <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>, <span style="color:#099">3</span>, <span style="color:#099">5</span>];
<span style="color:#000;font-weight:bold">const</span> nums <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">2</span>, ...odd, <span style="color:#099">4</span> , <span style="color:#099">6</span>]; <span style="color:#998;font-style:italic">// [2, 1, 3, 5, 4 , 6]
</span><span style="color:#998;font-style:italic"></span>也可以使用扩展运算符解构<span style="color:#a61717;background-color:#e3d2d2">：</span>

<span style="color:#000;font-weight:bold">const</span> { a, b, ...z } <span style="color:#000;font-weight:bold">=</span> { a<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>, b<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">2</span>, c<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">3</span>, d<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">4</span> };
console.log(a) <span style="color:#998;font-style:italic">// 1
</span><span style="color:#998;font-style:italic"></span>console.log(b) <span style="color:#998;font-style:italic">// 2
</span><span style="color:#998;font-style:italic"></span>console.log(z) <span style="color:#998;font-style:italic">// { c: 3, d: 4 }
</span><span style="color:#998;font-style:italic"></span>
</code></pre></td></tr></table>
</div>
</div><p>（20）从对象数组中查找某个值
es6数组的新方法 Array.find() ，但是只能返回一个值，找到多个返回第一个。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">arr.find(callback[,thisArg])

<span style="color:#000;font-weight:bold">function</span> callback(element, index, array){}

<span style="color:#000;font-weight:bold">const</span> pets <span style="color:#000;font-weight:bold">=</span> [
{ type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Dog&#39;</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Max&#39;</span>},
{ type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Cat&#39;</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Karl&#39;</span>},
{ type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Dog&#39;</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Tommy&#39;</span>},
]
<span style="color:#000;font-weight:bold">function</span> findDog(name) {
<span style="color:#000;font-weight:bold">for</span>(<span style="color:#000;font-weight:bold">let</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">&lt;</span>pets.length; <span style="color:#000;font-weight:bold">++</span>i) {
<span style="color:#000;font-weight:bold">if</span>(pets[i].type <span style="color:#000;font-weight:bold">===</span> <span style="color:#d14">&#39;Dog&#39;</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> pets[i].name <span style="color:#000;font-weight:bold">===</span> name) {
<span style="color:#000;font-weight:bold">return</span> pets[i];
}
}
}

</code></pre></td></tr></table>
</div>
</div><p>简写：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">var</span> pet <span style="color:#000;font-weight:bold">=</span> pets.find(pet =&gt; pet.type <span style="color:#000;font-weight:bold">===</span><span style="color:#d14">&#39;Dog&#39;</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> pet.name <span style="color:#000;font-weight:bold">===</span> <span style="color:#d14">&#39;Tommy&#39;</span>);
console.log(pet); <span style="color:#998;font-style:italic">// { type: &#39;Dog&#39;, name: &#39;Tommy&#39; }
</span><span style="color:#998;font-style:italic"></span>
</code></pre></td></tr></table>
</div>
</div><p>（21）数组去重
es6新增数据结构set，元素不重复。</p>
<p>往常需要循环的代码在这里只有两行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">var</span> arr <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>,<span style="color:#099">2</span>,<span style="color:#099">2</span>,<span style="color:#099">3</span>,<span style="color:#099">4</span>]; <span style="color:#998;font-style:italic">// 需要去重的数组
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">var</span> set <span style="color:#000;font-weight:bold">=</span> newSet(arr); <span style="color:#998;font-style:italic">// {1,2,3,4}
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">var</span> newArr <span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">Array</span>.from(set); <span style="color:#998;font-style:italic">// 再把set转变成array
</span><span style="color:#998;font-style:italic"></span>console.log(newArr); <span style="color:#998;font-style:italic">// [1,2,3,4]
</span><span style="color:#998;font-style:italic"></span>
</code></pre></td></tr></table>
</div>
</div><p>参考：为什么js中要用<code>void 0</code> 代替<code>undefined</code>，还是有特别的含义呢</p>
<p>分享19个<code>JavaScript</code> 有用的简写写法</p>
<p>课外：在搜索的时候，看到有人觉得<code>object[&quot;key&quot;]</code>和<code>object.key</code>也是简写，个人觉得这就是个不一样的写法。<code>object[keyValue]</code>中的值是属性名字符串，<code>object.key</code>中的<code>key</code>是<code>object</code>下的已知属性。</p>
<p>有人遇到过 <code>for ( var key in someObject ) { }</code> 导致的在循环体中 <code>someObject.key</code> 取不到值。</p>
<p>这个for-in语句，相当于 <code>for ( var key of Object.keys( someObject ) ) { }</code>，</p>
<p><code>Object.keys()</code>返回的是属性名字符串，for-in中的key返回的也是字符串。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
<span style="color:#000;font-weight:bold">var</span> json <span style="color:#000;font-weight:bold">=</span> {a<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>};
<span style="color:#000;font-weight:bold">for</span>(<span style="color:#000;font-weight:bold">var</span> key <span style="color:#000;font-weight:bold">in</span> json ){
<span style="color:#000;font-weight:bold">typeof</span> key; <span style="color:#998;font-style:italic">//&#34;string&#34;
</span><span style="color:#998;font-style:italic"></span>}
</code></pre></td></tr></table>
</div>
</div></div>
<div class="disqus">
  <div id="disqus_thread"></div>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqusjs.css">
<script src="https://cdn.jsdelivr.net/gh/sy123s/blog@master/js/disqus.js"></script>
<script>
var dsqjs = new DisqusJS({
    shortname: 'sy123-ml',
    siteName: 'zhili',
    identifier: '',
    url: '',
    title: '',
    api: 'https://disqus.gd2.workers.dev/api/',
    apikey: 'gZw0N3utfdxezjRheJwLz3xkiUcRWno3ruWSIROPHRcYNGmwBosRpnyb8MmiknVg',
    admin: 'disqus_wvCW9l8bmG',
    adminLabel: 'zhili'
});
</script>
                            
</div>

  </article>
</main>
<footer>
  <div>
    <div>
      2007-2020 zhili.</div>
  </div>
</footer>
</body>
</html>
