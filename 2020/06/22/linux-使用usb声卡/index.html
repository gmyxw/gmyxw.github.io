<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="zhili">
<meta name="description" content="Sed magna purus, fermentum eu, tincidunt eu, varius ut, felis. Morbi mollis tellus ac sapien. Vestibulum ullamcorper mauris at ligula. In hac habitasse platea dictumst. Vivamus in erat ut urna cursus vestibulum.
    ">
<meta name="keywords" content="博客, 技术, 生物信息，精准医疗, 遗传咨询, 高通量技术, 算法, 学习, 作品, 写作, C&#43;&#43;, Perl">
<meta name="referrer" content="always">
<title>linux 使用usb声卡 - zhili</title>
<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="icon" href="/logo/favicon.ico" type="image/x-icon">
</head>
<body>
<header>
  <div>
    <h1><a href="https://sy123.ml/">zhili</a></h1>
  </div>
  <nav><a href="/file/">Files</a><a href="/tags/">Tags</a><a href="/about/">About</a></nav>
</header>
<main>
  <article>
    <div class="title">
  <h1>linux 使用usb声卡</h1>
  </div>
<div class="meta">
  <div>2020-06-22 04:38</div>
  <div>
    <span><a href="https://sy123.ml/tags/linux/">#linux</a></span>
      </div>
  </div>
<div class="content">
  <h2 id="前言">前言</h2>
<p>新买了耳机发现没声音，上网查了一下发现耳机自带了usb驱动，又又又开始了折腾之旅～</p>
<h2 id="解决声音问题">解决声音问题</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#998;font-style:italic"># 切换一下就完事</span>
~/site/blog
❯ asoundconf list
Names of available sound cards:
PCH
Device

~/site/blog
❯ asoundconf set-default-card <span style="color:#099">1</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="polybar-报错-error-disabling-module-alsa-reason-could-not-connect-pulseaudio-context">Polybar 报错 &ldquo;error: Disabling module &ldquo;alsa&rdquo; (reason: Could not connect pulseaudio context.)&rdquo;</h2>
<p>音乐嗨了没多久才发现顶部工具栏调不了音量，查了下日志发现报错了，后来在 <a href="https://github.com/polybar/polybar/issues/1287">issues</a> 上找到解决方法，搞定收工</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#998;font-style:italic">; ~/.config/polybar/config</span>
<span style="color:#000;font-weight:bold">[module/alsa]</span>
<span style="color:#008080">type</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">internal/alsa</span>

<span style="color:#998;font-style:italic">; Soundcard to be used</span>
<span style="color:#998;font-style:italic">; Usually in the format hw:# where # is the card number</span>
<span style="color:#998;font-style:italic">; You can find the different card numbers in `/proc/asound/cards`</span>
<span style="color:#008080">master-soundcard</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">hw:1</span>
<span style="color:#008080">speaker-soundcard</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">hw:1</span>
<span style="color:#008080">headphone-soundcard</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">hw:1</span>

<span style="color:#998;font-style:italic">; Name of the master, speaker and headphone mixers</span>
<span style="color:#998;font-style:italic">; Use the following command to list available mixer controls:</span>
<span style="color:#998;font-style:italic">; $ amixer scontrols | sed -nr &#34;s/.*&#39;([[:alnum:]]+)&#39;.*/\1/p&#34;</span>
<span style="color:#998;font-style:italic">; If master, speaker or headphone-soundcard isn&#39;t the default, </span>
<span style="color:#998;font-style:italic">; use `amixer -c # scontrols` instead where # is the number </span>
<span style="color:#998;font-style:italic">; of the master, speaker or headphone soundcard respectively</span>
<span style="color:#998;font-style:italic">;</span>
<span style="color:#998;font-style:italic">; Default: Master</span>
<span style="color:#008080">master-mixer</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">Speaker</span>

<span style="color:#998;font-style:italic">; Optionally define speaker and headphone mixers</span>
<span style="color:#998;font-style:italic">; Default: none</span>
<span style="color:#008080">speaker-mixer</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">Speaker</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="see-also">See also</h2>
<ul>
<li><a href="https://wiki.sabayon.org/index.php?title=HOWTO:_Configure_ALSA_to_handle_a_USB_sound_card">https://wiki.sabayon.org/index.php?title=HOWTO:_Configure_ALSA_to_handle_a_USB_sound_card</a></li>
<li><a href="https://raspberrypi.stackexchange.com/questions/19705/usb-card-as-my-default-audio-device">https://raspberrypi.stackexchange.com/questions/19705/usb-card-as-my-default-audio-device</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture">https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture</a></li>
<li><a href="https://github.com/polybar/polybar/issues/1287">https://github.com/polybar/polybar/issues/1287</a></li>
</ul>
</div>
<div class="disqus">
  <div id="disqus_thread"></div>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqusjs.css">
<script src="https://cdn.jsdelivr.net/gh/sy123s/blog@master/js/disqus.js"></script>
<script>
var dsqjs = new DisqusJS({
    shortname: 'sy123-ml',
    siteName: 'zhili',
    identifier: '',
    url: '',
    title: '',
    api: 'https://disqus.gd2.workers.dev/api/',
    apikey: 'gZw0N3utfdxezjRheJwLz3xkiUcRWno3ruWSIROPHRcYNGmwBosRpnyb8MmiknVg',
    admin: 'disqus_wvCW9l8bmG',
    adminLabel: 'zhili'
});
</script>
                            
</div>

  </article>
</main>
<footer>
  <div>
    <div>
      2007-2020 zhili.</div>
  </div>
</footer>
</body>
</html>
