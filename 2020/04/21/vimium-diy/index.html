<!DOCTYPE html><html><head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="author" content="zhili"/>
<meta name="description" content="Sed magna purus, fermentum eu, tincidunt eu, varius ut, felis. Morbi mollis tellus ac sapien. Vestibulum ullamcorper mauris at ligula. In hac habitasse platea dictumst. Vivamus in erat ut urna cursus vestibulum.
    "/>
<meta name="keywords" content="博客, 技术, 生物信息，精准医疗, 遗传咨询, 高通量技术, 算法, 学习, 作品, 写作, C++, Perl"/>
<meta name="referrer" content="always"/>
<title>vimium DIY - zhili</title>
<link rel="stylesheet" type="text/css" href="/css/main.css"/>
<link rel="icon" href="/logo/favicon.ico" type="image/x-icon"/>
</head>
<body>
<header>
  <div>
    <h1><a href="https://sy123.ml/">zhili</a></h1>
  </div>
  <nav><a href="/tags/">Tags</a><a href="/about/">About</a></nav>
</header>
<main>
  <article>
    <div class="title">
  <h1>vimium DIY</h1>
  </div>
<div class="meta">
  <div>2020-04-21 14:29</div>
  </div>
<div class="content">
  

<encrypt>
	
	<div id="encrypt-encryption-notice">
		<blockquote>
			<p>以下内容被密码保护</p>
		</blockquote>
		<noscript><span id="encrypt-enable-js">Javascript needs to be enabled to decrypt content</span></noscript>

		<div class="encrypt-form">
			<input class="encrypt-input" id="encrypt-password" placeholder="请输入密码"/>
			<input class="encrypt-button" type="button" value="提交" id="button" onclick="Decrypt(document.getElementById('encrypt-password').value,'input')"/>
			<div id="encrypt-input-response"></div>
		</div>
	</div>
	<cipher-text style="display:none;">2d62ffd30973e5cc-710799e3d68487731f264cc2-dcf3c1c42be8c3a5d94fcd0a7d202a043c93d6f969b14eef61674aa382ee64a0c1746bd55a75bb214db9c35067f1ca0297bb33ca83866f33bb966aa723ddbcfb6f1c48aea836aa1c4aca9ecdcdefe4481d8ae124e3b2c08ca1d74ba3bbe9acb8cbd5d868d67b774961aeb9cc40595eb99092c1230bb58a0c8095cdd94b241e9ed49dc8b296dc1b5b63c72a484b746e463b4a4464d277a2860d1ea4f07b9b047875757b1b51503999ca0cb2c48819e92770b2346f5d27c766c752a0273de9860e08748e3d6b8e970647404202aca7be51318738bd7e965bfcb7f949603996eb3bb43e7879039044d1b6802fe801c04d9ac3e44fd7822cef53f5f2996f1acd829557aa18283203779f83cd6bcd2ecc15d0fe9a69476251ce463bb8f9c28c5588c9a454c5e3ad8f97bc8ea08d03a03ec049675fec2be149db3fb5402be40dbabc68cdea6ba143d9ca48d9e6124a49600eca0ee0f5acd5fef067879c6716af056b8bbdfa75ff391cd56fc0a67643be5b3305b2dc567c8d82af4b2bb97890362962377576449aaa586f93aaf430e34792f60b7ba28530ac08b3267145a3a1db771b802b807ebd9b0f2159c3d89e51a46d2c5f826be9e0554e79744d7b445c61e677b1d2d5e7bbcf2d46a7ef99da4327f0242ee3009011d2fa03d69b9273ad28d22015e1e1ebc7478896b85714cf16edf8fd2b79260f3a7e72ebbc1b1197bb777766e06ac5c1483fc0fefbba8b58c1b4fb7c2fbe109191cd446a7b1bd96687e35bc55f6b02154cf33fb1b670a48e0ff98c76f908cc21aac2b6a01eb5106125ee255272c5356c88cc32196eb30d26be617cd3776e83dd3b96f5dfa7fafd75ac024eccba5bac63c21ffd8fcf7e71530e003715d8e3cf46622b1685d12294110b34f1b38b3032d7da3c2a59cb182116d8de1ae67698997abace70fb9165fe488b6be770d05f293beca625a057b09be4a600d5a7585e3621c1c88b5e9ef1c3e258211d6c7172afd56993811b2b8a89c2bc0e46db9d6f6175f8b5c221d7b95932ebf6ebfc5920cba3f9d0985b918af0f9ecd03b6c4130e997b39ac73466c605e97178bdc6492198f5312c580d89b3cd91139c53f7deda70385e163fa65f953f78b2a742e83b39d6ef3fe4f731aeb6a28213135a811b6e228f5ea2950e821a50cc7a470cd8e733e64b5ff2b6834db4b78473a412c6a60880037160be5bc989fc5a83d5c335a179a16a4895eeeb7ad0f0c7d289600dbaa39f704aed2a10b9ecdf41f1eabcb89312841dd1acad4dd79d7d1849e37399b9cafe7f6e453a820754515fc8310729621988da63710817b116be4c4ae60f480e6f269b7d8d3eeab56feb52034d49fde42e521017438201f025efdfc341dbbfbc82fe22d6076627c2059f0102e23556aabc466e37bd7ecbfa557cdb233734504d5cf42368a3e551e5a94ceb026e2c0eaca7a3b7132f6a39b381fe55d68201daa0024fd59bb93e3c927f45795d15b0694300927da48aabba42ed3f3130c7efaf389c72365669e404716dbece51d88be7d5c44bd3e62c79ad2ea6cc557da775df53a5a8f7dc37ca96a4dd18bb3b45cb83a0d1ec8e0de0fb5568452a9ae2acc97416e76a53dfb3055d17efc993cc9e0489d24b6b2810456f1e0f580cc536291baa87712b639ab2611d690fce189c5610b76f70ce4e5d3df5c50756433445fd3e8f5eb14888abf4672a3ae0257e25caa51cf80043f1672ea547e4435f31892707eb2f9ce6644211e43f6e799794a08939167fdb9624aaf6f7ca79188649e152d478090a20873cd7c5b106aab286dc66442c46e7295ee7852d2438c81a306c6230562f6915104ea6a098e132a27d9a1269a32bc297d67c53fd99ca3dbcf88999dcddc75473d33c68c2ebdd9f4cfa10eabe70e5002334683cc3a0209375c1ee38c0a4b01e59bcc026966312896d1f7676eb21e0ce083e0c27d6e2b297fa5725b2da2317550d5007748c074d9c130d1f610cf8304386cd8d95085ef83b7c883f373924374e2ddd16e0ae0139a98df4c17f73b122c56054537fa7bdb753ae34daf04233dd7c90ea6045fccd3ca22e9aca12a1ce4b8f8ccdf252dbb21731160e4948227150ec0d86b3af119bf7d00def5a842500a835610ad0c8b655eb4e8daf92362654291b7e47ab97312b68e8956101a7e913ddec9f88d602841ec6c7c92a88311cd97aa8831f608e4c3cffdc26173fb72f0e0a3e32e46c816f2fc62b3bff46e2dcf97381642cae2629a25f075ed393398e723552313875eb03142294333861e6383bb1d3d9ba105201642e8e79723b22fc7c8c8ea2aed89f27a901d40abe3ef60abb490be5d56b6389bb4cbb9a5aea52c388ab2c0d50070222e80846778a3d44b349321f06eaaad009dd1187a71dffe93a6496aaaa14bd702a4ee190a786e9bc1df2df1284cb62970be88df74075a7086c68b5d77673dc726203a2df0c0274cb909e259e400fc20aca93ab541ca172f742bd4fb72671f13ccd416a27154fd898fffb79b4f1aea79611bea6eb93205e8a0d219ca5a5c077dd2251e9ced6922735e5b378f6865e34806dfa55fd56dc846ad44be87474bb4a2c2dc2c1c0ba9523fb280b95de586e7600c507ffbfcee830500b9b66a0c80ba6c4d25f6d172644a23c28dbddeed29a6325200be619c093417c1e74fbbb3434082084c6689f7b7b56bf5ef892c9ea3733f0c15a0b83d2c54e9f229b6b359e91c21d7f17ac4a7eb3f832d7bd6c68d6f62199b75969a5e42b3c9596e35a3a16931c5cdfc8fcb8921db145408a5d028d650a7c614fe11afb96ab4936ce14d4c2c270674ee838175b386ff2076e4768b962459ccedb5c1344e7d90cd005d42ecf0c1e7338ea9ff7edcdc9b4e108d3380fc352162009ed58e201a38059ed3aec2073c4cd280440c066bc615673bc3638a850fb9c6c93a72506e978d7910cab05ed79c065e5f2b5ce245f5f4defaf043743138e4a090271433f00d5030df642853d6feea51c5e70f2c4e7f63a116487dced43d4751ff5637223907fd95e9d1f25fccfc06a9d2879e2dd5ff41d697a4fa5d21db6511fd1a2496d5488226a91473272de0ca2285fca9b698ced417643da0c7c76d3b281c10e4c6364910bb5d2b647b0ae5404b33a4f7956a58e385b0dda452d70cd832b4c81ffc440b29a2bd6b5b7c63ed660b4b3fd2115026f9c60e67002b023d134ae301acbc15b78440cd219545c777d33514c7d3b670f25262ee82b9abcbd118fc2df69dc13765ad277b751c127d9fc61756284f1bff801ce9dc9022bb4e3f25413a315753d369105c65719a79dac1425a7b30ea70a640bf240e1445bbbeff76b4eb59a61c81418f09ccf4454161943c90fa5a423b734043f49da44d80b8b3b44f3da80d9013afee0200a3a3a4deecd2968c5e473192fe46302c07dff89ce8cd9ab167d49c0e66ac54a78fd5a7f5695cbea7b7ab80b76237f55859f803407376bce6405976b5a87e9f64f57954fb607eee11d93758fdb034d379c1d46a76cba60f1b3e4a5c9a4cd7eb50252e415753f2b98da85a6b33d6e2ae1ca9d986ded11f0f4fbd76ea622f6055a494f3f3d7db580a9ef5599ac4856fe53fb10b1e399c6454b6f16e1813ed73b98cc71537a562821f37c89c13bd5dc4d8ac7b72bcb694c60de7bf74a2d10622d3b91da1c848d8ad5c33672667682cb7da6f06cab1832f3d0ed4a1190ade7fe19434deed48df51d1b7069d67b2d6f3020880fffdf6ecc5d3d869c192f3b7f06093b772d54bff488ce0afb8ef2fae308ae5cc11c37629044754a66f46bef448c31efde7711fae569d8ad277df4097b877e06eef0bd9ea1d4d0e89c91789648cf08533bffc5790e1630b07fc3e67a6f674afbfbcd3747895bce5d2da8e72fc98f729464746ba76194908ffc13b15f14ae6ab0c5e79bbc49c47139e77b52d0dceeb5c3a49ce296500ad5e60816c4cb205c332e1c6cba64b01a6cb9872ba24897fcc027f0c70a62fe8b906e72e9841d612d20ffdd0c3ee667dd60a594b63d564609f1ace74f2932303957b7e0ceabf6868c49ed1d0d0eba36f5ed31001034b8b8c57b5512be5fa1f139a7b9dc785b5d158995e1c38e2b0ca1f42ec6bec268f5a340ccafc0f223d6e82f20bf6f1deedf4c4c6b370bf413841d6359e17e76ef7ab204f1ee77302559339ba5f34eb626b6b170cd30c3eac760961e8e0a658d87f6bc3851e43a3ad7f732f8a1db29344e3c8ea68ff22018c77687e86b9ad7a30e89cf067803a53ea8a8720c0afb622e9df903a7f7872588bef9c3ff3bcd691cbcdc91693b1a123489e205732ad3a5a721bb11aa123264ee6e736c8539bf92028c79d9a308c79081cacf0c9d2fbe74658d7c7cbc313e67fe22109b3aed6fbdaf7c899245004f56635eee241b8843b42548678514dc829477b2cd884defdfc3ee8dbaf6411b72c643139e5a257984d31b1a83116379325464dca758d923713a57b6ed5dd74aefb8a4e24e3815734ae94408354a76e8e925d8bc80a3451dc1cad78e3cdbee9c1a6883513a3601c924d2ed0662a31e21a2aa403f45614843ce72469f8396110f4f30945e1d4df198391998ba1382cb80b297afb6</cipher-text>
	<style type="text/css">div#encrypt-sha1sum {display: none;}</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js"></script>
	<script>
		let cipher = document.getElementsByTagName("cipher-text")[0];
		const storageKey = location.pathname + "password";
		const userStorage =  window['sessionStorage'] ;
		

		function str2buf(str) {
			return new TextEncoder("utf-8").encode(str);
		}
		

		function buf2str(buffer) {
			return new TextDecoder("utf-8").decode(buffer);
		}
		

		function hex2buf(hexStr) {
			return new Uint8Array(hexStr.match(/.{2}/g).map(h => parseInt(h, 16)));
		}
		

		function deriveKey(passphrase, salt) {
			salt = salt || crypto.getRandomValues(new Uint8Array(8));
			return crypto.subtle
				.importKey("raw", str2buf(passphrase), "PBKDF2", false, ["deriveKey"])
				.then(key =>
					crypto.subtle.deriveKey(
						{ name: "PBKDF2", salt, iterations: 1000, hash: "SHA-256" },
						key,
						{ name: "AES-GCM", length: 256 },
						false,
						["encrypt", "decrypt"],
					),
				)
				.then(key => [key, salt]);
		}
		

		function decrypt(passphrase, saltIvCipherHex) {
			const [salt, iv, data] = saltIvCipherHex.split("-").map(hex2buf);
			return deriveKey(passphrase, salt)
				.then(([key]) => crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, data))
				.then(v => buf2str(new Uint8Array(v)));
		}
		

		const Decrypt = function(password, type) {
				decrypt(password, cipher.innerText).then(function(decrypted_text) {
					

					let hash = CryptoJS.SHA1(decrypted_text.replace(/\r?\n?[^\r\n]*$/, ""));
					let sha1_sum = CryptoJS.enc.Hex.stringify(hash);

					if ( decrypted_text.includes(sha1_sum) ) {
						document.getElementById("encrypt-encryption-notice").remove();
						cipher.outerHTML = decrypted_text;
						userStorage.setItem(storageKey, password);
                        document.getElementById("encrypt-sha1sum").innerHTML = "Success: " + sha1_sum;
                        console.log("Decryption successful. Storing password in sessionStorage.");
					}
					}).catch(function(error) {
                    if (type === "input") {
                        document.getElementById("encrypt-input-response").innerHTML = "密码错误";
                        console.log('密码错误', error);
                    } else if (type === "storage") {
                        userStorage.removeItem(location.pathname + "password");
                        console.log("Password changed. Clearing userStorage.", error);
                    }
                });
			};
	</script>
	<script>
		window.onload = () => {
			if (userStorage.getItem(storageKey)) {
				console.log("Found storageKey in userStorage. Attemtping decryption");
				Decrypt(userStorage.getItem(storageKey), "storage");
			}
		};
	</script>
</encrypt>

</div>
<div class="disqus">
  <div id="disqus_thread"></div>
<script>





(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://sy123-ml.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
</div>

  </article>
</main>
<footer>
  <div>
    <div>
      2007-2020 zhili.</div>
  </div>
</footer>


</body></html>