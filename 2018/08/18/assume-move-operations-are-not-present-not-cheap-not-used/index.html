<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Zhili">
<meta name="description" content="Sed magna purus, fermentum eu, tincidunt eu, varius ut, felis. Morbi mollis tellus ac sapien. Vestibulum ullamcorper mauris at ligula. In hac habitasse platea dictumst. Vivamus in erat ut urna cursus vestibulum.
    ">
<meta name="keywords" content="博客, 技术, 生物信息，精准医疗, 遗传咨询, 高通量技术, 算法, 学习, 作品, 写作, C&#43;&#43;, Perl">
<meta name="referrer" content="always">
<title>[EMCpp]Item-29 Assume Move Operations Are Not Present Not Cheap, and Not Used - sy123.ml</title>
<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="icon" href="/logo/favicon.ico" type="image/x-icon">
</head>
<body>
<header>
  <div>
    <h1><a href="https://sy123.ml/">sy123.ml</a></h1><h2><a href="https://sy123.ml/">winter is coming.</a></h2>
  </div>
  <nav><a href="/tags/">Tags</a><a href="/about/">About</a></nav>
</header>
<main>
  <article>
    <div class="title">
  <h1>[EMCpp]Item-29 Assume Move Operations Are Not Present Not Cheap, and Not Used</h1>
  </div>
<div class="meta">
  <div>2018-08-18 15:15</div>
  <div>
    <span><a href="https://sy123.ml/tags/technique/">#technique</a></span>
      <span><a href="https://sy123.ml/tags/cpp/">#cpp</a></span>
      </div>
  </div>
<div class="content">
  <p>There are several scenarios in which C++11's move semantics do us no good:</p>
<ul>
<li><strong>No move operations</strong>: the object to be moved from fails to offer move operations. The move request thus becomes a copy request</li>
<li><strong>Move not faster</strong>: the object to be moved from has move operations that are no faster than its copy operations<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
<li><strong>Move not usable</strong>: the context in which the moving would take place requires a move operation that emits no exceptions, but that operation isn't declared <code>noexcept</code></li>
<li><strong>Source object is lvalue</strong>: with very few exceptions (e.g., item 25), only rvlaues may be used as the source of a move operation</li>
</ul>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>For example, <code>std::vector</code>, conceptually, holds only a pointer to the heap memory storing the contents of the container, so it is possible to move the contents of an entire container in constant time; however, for <code>std::array</code>, the data is stored directly in the <code>std::array</code> object, so the move operation runs in linear time. Similar analysis applies to <code>std::string</code> when the <em>small string optimization</em> (SSO) occcurs. <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section></div>

  </article>
</main>
<footer>
  <div>
    <div>
      2007-2020 Zhili.</div>
  </div>
</footer>
</body>
</html>
