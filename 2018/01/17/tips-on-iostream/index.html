<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Zhili">
<meta name="description" content="Sed magna purus, fermentum eu, tincidunt eu, varius ut, felis. Morbi mollis tellus ac sapien. Vestibulum ullamcorper mauris at ligula. In hac habitasse platea dictumst. Vivamus in erat ut urna cursus vestibulum.
    ">
<meta name="keywords" content="博客, 技术, 生物信息，精准医疗, 遗传咨询, 高通量技术, 算法, 学习, 作品, 写作, C&#43;&#43;, Perl">
<meta name="referrer" content="always">
<title>Item-2 Compare &lt;iostream&gt; to &lt;stdio.h&gt; - sy123.ml</title>
<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="icon" href="/logo/favicon.ico" type="image/x-icon">
</head>
<body>
<header>
  <div>
    <h1><a href="https://sy123.ml/">sy123.ml</a></h1><h2><a href="https://sy123.ml/">winter is coming.</a></h2>
  </div>
  <nav><a href="/tags/">Tags</a><a href="/about/">About</a></nav>
</header>
<main>
  <article>
    <div class="title">
  <h1>Item-2 Compare &lt;iostream&gt; to &lt;stdio.h&gt;</h1>
  </div>
<div class="meta">
  <div>2018-01-17 19:14</div>
  <div>
    <span><a href="https://sy123.ml/tags/technique/">#technique</a></span>
      <span><a href="https://sy123.ml/tags/cpp/">#cpp</a></span>
      </div>
  </div>
<div class="content">
  <p>Some tips about <code>&lt;iostream&gt;</code></p>
<p>One advantage of <code>&lt;iostream&gt;</code> over <code>&lt;stdio.h&gt;</code> (which includes C-style <code>scanf</code> and <code>printf</code>) is that built-in types like <code>int</code> are read and written in the same manner as user-defined types like <code>Rational</code>:</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00a8c8">int</span> <span style="color:#111">i</span><span style="color:#111">;</span>
<span style="color:#111">Rational</span> <span style="color:#111">r</span><span style="color:#111">;</span>  <span style="color:#75715e">// r is a user-defined rational number
</span><span style="color:#75715e"></span><span style="color:#111">.</span><span style="color:#111">.</span><span style="color:#111">.</span>
<span style="color:#111">cin</span> <span style="color:#f92672">&gt;</span><span style="color:#f92672">&gt;</span> <span style="color:#111">i</span> <span style="color:#f92672">&gt;</span><span style="color:#f92672">&gt;</span> <span style="color:#111">r</span><span style="color:#111">;</span>
<span style="color:#111">cout</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#111">i</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#111">r</span><span style="color:#111">;</span>
</code></pre></td></tr></table>
</div>
</div><p>So considering type safety and extensibility offered by the classes and functionas in the iosteam library, in general we should prefer <code>&lt;iostream&gt;</code> to <code>&lt;stdio.h&gt;</code>. In order for this code to compile, we mus define <code>operator&gt;&gt;</code> and <code>operator&lt;&lt;</code> for <code>Rational</code> type. A typical output routine may look like this:</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"> <span style="color:#111">clas</span> <span style="color:#111">Rational</span> <span style="color:#111">{</span>
 <span style="color:#00a8c8">public</span><span style="color:#f92672">:</span>
    <span style="color:#111">Rational</span> <span style="color:#111">(</span><span style="color:#00a8c8">int</span> <span style="color:#111">numerator</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#00a8c8">int</span> <span style="color:#111">denominator</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#111">)</span><span style="color:#111">;</span>
    <span style="color:#111">.</span><span style="color:#111">.</span><span style="color:#111">.</span>
 <span style="color:#00a8c8">private</span><span style="color:#f92672">:</span>
    <span style="color:#00a8c8">int</span> <span style="color:#111">n</span><span style="color:#111">,</span> <span style="color:#111">d</span><span style="color:#111">;</span>
 <span style="color:#00a8c8">friend</span> <span style="color:#111">ostream</span><span style="color:#f92672">&amp;</span> <span style="color:#00a8c8">operator</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span><span style="color:#111">(</span><span style="color:#111">ostream</span><span style="color:#f92672">&amp;</span> <span style="color:#111">s</span><span style="color:#111">,</span> <span style="color:#00a8c8">const</span> <span style="color:#111">Rational</span><span style="color:#f92672">&amp;</span> <span style="color:#111">r</span><span style="color:#111">)</span><span style="color:#111">;</span>
 <span style="color:#111">}</span><span style="color:#111">;</span>

 <span style="color:#111">ostream</span><span style="color:#f92672">&amp;</span> <span style="color:#00a8c8">operator</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span><span style="color:#111">(</span><span style="color:#111">ostream</span><span style="color:#f92672">&amp;</span> <span style="color:#111">s</span><span style="color:#111">,</span> <span style="color:#111">Rational</span><span style="color:#f92672">&amp;</span> <span style="color:#111">r</span><span style="color:#111">)</span> 
 <span style="color:#111">{</span>
     <span style="color:#111">s</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#111">r</span><span style="color:#111">.</span><span style="color:#111">n</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#d88200"></span><span style="color:#d88200">&#39;</span><span style="color:#d88200">/</span><span style="color:#d88200">&#39;</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#111">r</span><span style="color:#111">.</span><span style="color:#111">d</span><span style="color:#111">;</span>
     <span style="color:#00a8c8">return</span> <span style="color:#111">s</span><span style="color:#111">;</span>
 <span style="color:#111">}</span>
</code></pre></td></tr></table>
</div>
</div><p>There are some subtle points worth noting: <code>operator&lt;&lt;</code> is not a member function (explained in item 19) and the <code>Rational</code> object to be output is passed as a reference-to-<code>const</code> rather than as an object (see item 22).</p>
<p>Howerver, there are still very few situations where <code>&lt;stdio.h&gt;</code> may be more sensible to use:</p>
<ol>
<li>Some implementations of iostream operations are less efficient than corresponding C stream operations, so it may make sense for applications requiring extreme performance.</li>
<li>During the course of standardization, iostream library was modified in some fundamental ways, so it may make sense for applications targeting at maximum portablility.</li>
<li>Since classes of the iostream library have constructors while functions in <code>&lt;stdio.h&gt;</code> do not, when concerning about initialization order of static objects (see item 47) the standard C library may be more useful because you can always call it with impunity.</li>
</ol>
<h3 id="by-the-way">By the way</h3>
<p>Technically speaking, the standardizatoin committee eliminated <code>&lt;iostream.h&gt;</code> in favor of <code>&lt;iostream&gt;</code> when they truncated the names of the other non-C standard header names, but chances are that most compilers support both of them. However, there is a subtle difference between them:</p>
<ol>
<li>when <code>#include &lt;iostream&gt;</code>, the iostream library is ensconced within the namespace <code>std</code> (item 28)</li>
<li>when <code>#include &lt;iostream.h&gt;</code>, we get the same elements but they are at global scope</li>
</ol>
<p>Thus we usually prefer using <code>&lt;iostream&gt;</code> for name conflicts consideration.</p></div>

  </article>
</main>
<footer>
  <div>
    <div>
      2007-2020 Zhili.</div>
  </div>
</footer>
</body>
</html>
