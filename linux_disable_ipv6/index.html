<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="zhili">
<meta name="description" content="Sed magna purus, fermentum eu, tincidunt eu, varius ut, felis. Morbi mollis tellus ac sapien. Vestibulum ullamcorper mauris at ligula. In hac habitasse platea dictumst. Vivamus in erat ut urna cursus vestibulum.
    ">
<meta name="keywords" content="åšå®¢, æŠ€æœ¯, ç”Ÿç‰©ä¿¡æ¯ï¼Œç²¾å‡†åŒ»ç–—, é—ä¼ å’¨è¯¢, é«˜é€šé‡æŠ€æœ¯, ç®—æ³•, å­¦ä¹ , ä½œå“, å†™ä½œ, C&#43;&#43;, Perl">
<meta name="referrer" content="always">
<title>Linux_disable_IPv6 - zhili</title>
<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="icon" href="/logo/favicon.ico" type="image/x-icon">
</head>
<body>
<header>
  <div>
    <a href="https://sy123.netlify.app/">zhili</a> â¯
      <a href="/linux_disable_ipv6">Linux disable ipv6</a>/</h1>
  </div>
  <nav><a href="/file/">Files</a><a href="/tags/">Tags</a><a href="/about/">About</a></nav>
</header>
<main>
  <article>
    <div class="title">
  <h1>Linux_disable_IPv6</h1>
  </div>
<div class="meta">
  <div>ğŸ•“2020-01-31 12:32</div>
  <div>
    <span><a href="https://sy123.netlify.app/tags/linux/">#linux</a></span>
      <span><a href="https://sy123.netlify.app/tags/network/">#network</a></span>
      </div>
  </div>
<div class="content">
  <p>IPv6è¢«è®¤ä¸ºæ˜¯IPv4çš„æ›¿ä»£äº§å“ï¼Œå®ƒç”¨æ¥è§£å†³ç°æœ‰IPv4åœ°å€ç©ºé—´å³å°†è€—å°½çš„é—®é¢˜ã€‚
ä½†ç›®å‰ï¼Œå¼€å¯IPv6å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚å› æ­¤æœ‰æ—¶æˆ‘ä»¬éœ€è¦å…³é—­IPv6ã€‚
ä¸‹é¢æ˜¯IPv6çš„å…³é—­æ–¹æ³•åº”è¯¥é€‚ç”¨äºæ‰€æœ‰ä¸»æµçš„Linuxå‘è¡Œç‰ˆåŒ…æ‹¬Ubuntuã€Debianã€CentOSã€‚</p>
<p>IPv6åœ¨CentOS6.5ç³»ç»Ÿä¸­é»˜è®¤æ˜¯å¯ç”¨çŠ¶æ€ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ä»¥ç¡®è®¤IPv6çš„çŠ¶æ€</p>
<h2 id="11æŸ¥çœ‹ç³»ç»Ÿipv6çš„å¯ç”¨çŠ¶æ€">1.1.æŸ¥çœ‹ç³»ç»ŸIPv6çš„å¯ç”¨çŠ¶æ€</h2>
<p>ä»¥ä¸‹å‘½ä»¤è¿”å›å€¼ä¸º0è¡¨ç¤ºIPv6å¯ç”¨ï¼Œ1è¡¨ç¤ºç¦ç”¨</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cat /proc/sys/net/ipv6/conf/all/disable_ipv6
</span></span><span style="display:flex;"><span>cat /proc/sys/net/ipv6/conf/default/disable_ipv6
</span></span><span style="display:flex;"><span>ifconfig 
</span></span><span style="display:flex;"><span>ip address list
</span></span><span style="display:flex;"><span>netstat -anptl
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="12æŸ¥çœ‹å†…æ ¸æ¨¡å—è°ƒç”¨">1.2.æŸ¥çœ‹å†…æ ¸æ¨¡å—è°ƒç”¨</h2>
<p>æœ‰è¿”å›ç»“æœï¼Œè¯´æ˜IPv6æ¨¡å—å·²å¯ç”¨ï¼Œå¯ä»¥çœ‹å‡ºé‚£äº›ç¨‹åºè¿›è¡Œäº†è°ƒç”¨ï¼Œåä¹‹æ²¡æœ‰å¯ç”¨</p>
<p><code>lsmod | grep ipv6</code></p>
<h2 id="2ç¦ç”¨ipv6">2.ç¦ç”¨IPv6</h2>
<h2 id="21ä¸´æ—¶ç¦ç”¨ipv6">2.1.ä¸´æ—¶ç¦ç”¨IPv6</h2>
<p>å‘½ä»¤è¡Œè°ƒæ•´å†…æ ¸å‚æ•°ï¼Œä¸´æ—¶ç¦ç”¨IPv6</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#099">1</span> &gt;/proc/sys/net/ipv6/conf/all/disable_ipv6
</span></span><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#099">1</span> &gt;/proc/sys/net/ipv6/conf/default/disable_ipv6
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># æˆ–ç€</span>
</span></span><span style="display:flex;"><span>sysctl -w net.ipv6.conf.all.disable_ipv6<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>sysctl -w net.ipv6.conf.default.disable_ipv6<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="22æ°¸ä¹…ç¦ç”¨ipv6">2.2.æ°¸ä¹…ç¦ç”¨IPv6</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#d14">&#34; &#34;</span>&gt;&gt;/etc/sysctl.conf
</span></span><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#d14">&#34;# made for disabled IPv6 in </span><span style="color:#000;font-weight:bold">$(</span>date +%F<span style="color:#000;font-weight:bold">)</span><span style="color:#d14">&#34;</span>&gt;&gt;/etc/sysctl.conf
</span></span><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#d14">&#39;net.ipv6.conf.all.disable_ipv6 = 1&#39;</span>&gt;&gt;/etc/sysctl.conf
</span></span><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#d14">&#39;net.ipv6.conf.default.disable_ipv6 = 1&#39;</span>&gt;&gt;/etc/sysctl.conf
</span></span><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#d14">&#39;net.ipv6.conf.lo.disable_ipv6 = 1&#39;</span>&gt;&gt;/etc/sysctl.conf
</span></span><span style="display:flex;"><span>tail -5 /etc/sysctl.conf
</span></span><span style="display:flex;"><span>sysctl -p
</span></span><span style="display:flex;"><span>netstat -anptl
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¹Ÿå¯ä»¥ç›´æ¥ç¼–è¾‘ç³»ç»Ÿå†…æ ¸é…ç½®æ–‡ä»¶</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/sysctl.conf
</span></span><span style="display:flex;"><span>------------------------------------------------------
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Made for disabled IPv6 .</span>
</span></span><span style="display:flex;"><span>net.ipv6.conf.all.disable_ipv6 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>net.ipv6.conf.default.disable_ipv6 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>net.ipv6.conf.lo.disable_ipv6 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>-------------------------------------------------------
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å¦‚æœæƒ³è¦ä¸ºç‰¹å®šçš„ç½‘å¡ç¦æ­¢ipv6æ¯”å¦‚eth1æ”¹ä¸ºæ·»åŠ ä¸‹é¢çš„è¡Œ">å¦‚æœæƒ³è¦ä¸ºç‰¹å®šçš„ç½‘å¡ç¦æ­¢IPv6ï¼Œæ¯”å¦‚eth1ï¼Œæ”¹ä¸ºæ·»åŠ ä¸‹é¢çš„è¡Œã€‚</h1>
<p><code>net.ipv6.conf.eth1.disable_ipv6 = 1</code></p>
<h1 id="æ³¨æ„æ£€æŸ¥ä¿®æ”¹networké…ç½®æ–‡ä»¶ä¸­çš„ipv6é…ç½®">æ³¨æ„æ£€æŸ¥ä¿®æ”¹networké…ç½®æ–‡ä»¶ä¸­çš„IPv6é…ç½®</h1>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/sysconfig/network
</span></span><span style="display:flex;"><span>--------------------------------------
</span></span><span style="display:flex;"><span><span style="color:#008080">NETWORKING_IPV6</span><span style="color:#000;font-weight:bold">=</span>no
</span></span><span style="display:flex;"><span>--------------------------------------
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># æ³¨æ„ä¿®æ”¹ifcfg-eth0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>vim /etc/sysconfig/network-scripts/ifcfg-eth0
</span></span><span style="display:flex;"><span>----------------------------------
</span></span><span style="display:flex;"><span><span style="color:#008080">IPV6INIT</span><span style="color:#000;font-weight:bold">=</span>no
</span></span><span style="display:flex;"><span>----------------------------------
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="23æ‹“å±•ç¦ç”¨ipv6åå¯èƒ½ä¼šå¯¼è‡´æŸäº›æœåŠ¡æ— æ³•å¯åŠ¨">2.3.æ‹“å±•ï¼šç¦ç”¨IPV6åï¼Œå¯èƒ½ä¼šå¯¼è‡´æŸäº›æœåŠ¡æ— æ³•å¯åŠ¨</h2>
<ul>
<li>ä¿®æ”¹sshé…ç½®ï¼Œåªç›‘å¬IPv4åœ°å€</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/ssh/sshd_config
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># åœ¨ç¬¬15è¡Œçš„å‰é¢å»æ‰æ³¨é‡Š(#)ï¼š</span>
</span></span><span style="display:flex;"><span>ListenAddress 0.0.0.0
</span></span><span style="display:flex;"><span>AddressFamily inet
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span><span style="display:flex;"><span>service sshd restart
</span></span><span style="display:flex;"><span>netstat -anptl
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="æ³¨æ„inetä¸ºä»…ipv4inet6ä¸ºä»…ipv6anyä¸ºéƒ½æ”¯æŒ">æ³¨æ„ï¼šinetä¸ºä»…IPv4ï¼Œinet6ä¸ºä»…IPv6ï¼Œanyä¸ºéƒ½æ”¯æŒ</h1>
<ul>
<li>mysqlé…ç½®é—®é¢˜</li>
</ul>
<p>mysqlå®‰è£…åé»˜è®¤ä¼šç›‘å¬IPv6åœ°å€ï¼Œå…³é—­IPv6åï¼Œéœ€è¦ç¼–è¾‘ï¼Œåœ¨[mysqld]ä¸­æ·»åŠ </p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/my.cnf
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span><span style="display:flex;"><span>bind-address<span style="color:#000;font-weight:bold">=</span>0.0.0.0
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¿®æ”¹å®Œé‡å¯mysqlå³å¯</p>
<ul>
<li>é…ç½®redisï¼Œç›‘å¬IPv4åœ°å€</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim  /usr/local/redis/conf/redis.conf
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span><span style="display:flex;"><span><span style="color:#0086b3">bind</span> 127.0.0.1
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>é…ç½®memcachedï¼Œç›‘å¬IPv4åœ°å€</li>
</ul>
<h1 id="é…ç½®memcachedç›‘å¬åœ°å€éœ€è¦ä½¿ç”¨ipä½¿ç”¨localhostæ— æ³•å¯åŠ¨memcached">é…ç½®memcachedï¼Œç›‘å¬åœ°å€éœ€è¦ä½¿ç”¨IPï¼Œä½¿ç”¨localhostæ— æ³•å¯åŠ¨memcached</h1>
<h1 id="memcached">memcached</h1>
<p><code>/usr/local/memcached/bin/memcached -u root -p 12001 -l 127.0.0.1 -d -P /tmp/memcached1.pid</code></p>
<ul>
<li>é…ç½®VSFTP</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/vsftpd/vsftpd.conf
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span><span style="display:flex;"><span><span style="color:#008080">listen</span><span style="color:#000;font-weight:bold">=</span>YES
</span></span><span style="display:flex;"><span><span style="color:#008080">listen_ipv6</span><span style="color:#000;font-weight:bold">=</span>NO
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>é…ç½®postfixç›‘å¬IPv4åœ°å€</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/postfix/main.cf
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span><span style="display:flex;"><span><span style="color:#008080">inet_interfaces</span> <span style="color:#000;font-weight:bold">=</span> 127.0.0.1
</span></span><span style="display:flex;"><span>----------------------------------------
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>é…ç½®dovecotç›‘å¬IPv4åœ°å€</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/dovecot/dovecot.conf
</span></span><span style="display:flex;"><span>----------------
</span></span><span style="display:flex;"><span>listen *
</span></span><span style="display:flex;"><span>----------------
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>é…ç½®xinetd</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># xinetd.confç¬¬32è¡Œä¿®æ”¹ä¸ºï¼š</span>
</span></span><span style="display:flex;"><span>vim /etc/xinetd.conf 
</span></span><span style="display:flex;"><span>------------------------
</span></span><span style="display:flex;"><span><span style="color:#0086b3">bind</span>            <span style="color:#000;font-weight:bold">=</span> 0.0.0.0
</span></span><span style="display:flex;"><span>------------------------
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>service xinetd reload
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»¥ä¸Šæ˜¯ç¦ç”¨IPv6ä¹‹åå¯èƒ½ä¼šå—åˆ°å½±å“çš„ç¨‹åºï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè¿›è¡Œé…ç½®</p>
<h2 id="3é…ç½®å¯ç”¨ipv6">3.é…ç½®å¯ç”¨IPv6</h2>
<h2 id="31æŸ¥çœ‹linuxç³»ç»Ÿçš„ipv6çŠ¶æ€">3.1.æŸ¥çœ‹linuxç³»ç»Ÿçš„IPv6çŠ¶æ€</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cat /proc/sys/net/ipv6/conf/all/disable_ipv6
</span></span><span style="display:flex;"><span>cat /proc/sys/net/ipv6/conf/default/disable_ipv6
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="32è°ƒæ•´å†…æ ¸å‚æ•°ç«‹å³å¯ç”¨ipv6">3.2.è°ƒæ•´å†…æ ¸å‚æ•°ç«‹å³å¯ç”¨IPv6</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#099">0</span> &gt;/proc/sys/net/ipv6/conf/all/disable_ipv6
</span></span><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#099">0</span> &gt;/proc/sys/net/ipv6/conf/default/disable_ipv6
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># or</span>
</span></span><span style="display:flex;"><span>sysctl -w net.ipv6.conf.all.disable_ipv6<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>sysctl -w net.ipv6.conf.default.disable_ipv6<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¿®æ”¹å®Œæ˜¯ä¸´æ—¶çš„ï¼Œé‡å¯å¤±æ•ˆ</p>
<h2 id="33-ä¿®æ”¹å†…æ ¸å‚æ•°å¯ç”¨ipv6é…ç½®">3.3. ä¿®æ”¹å†…æ ¸å‚æ•°ï¼Œå¯ç”¨IPv6é…ç½®</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/sysctl.conf
</span></span><span style="display:flex;"><span>net.ipv6.conf.all.disable_ipv6 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>net.ipv6.conf.default.disable_ipv6 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>net.ipv6.conf.lo.disable_ipv6 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>sysctl -p
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="34æ‰‹åŠ¨è°ƒç”¨ç³»ç»Ÿipv6å†…æ ¸">3.4.æ‰‹åŠ¨è°ƒç”¨ç³»ç»Ÿipv6å†…æ ¸</h2>
<p><code>modprobe ipv6</code></p>
<h2 id="35æŠ¥é”™å¤„ç†">3.5.æŠ¥é”™å¤„ç†</h2>
<p>[root@zstest ~]# modprobe ipv6
FATAL: Module off not found.
å¤±è´¥åŸå› ï¼šæœªå¯ç”¨IPv6æ¨¡å—</p>
<p>è§£å†³æ–¹æ³•ï¼š
éœ€è¦ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¯ç”¨IPv6å†…æ ¸æ¨¡å—ï¼Œåœ¨ç¦ç”¨çŠ¶æ€ä¸‹æ— æ³•è°ƒç”¨ipv6æ¨¡å—
è¯¥å¤„ç†éœ€è¦é‡å¯ç³»ç»Ÿï¼Œå¯åŠ¨åipv6æ¨¡å—è‡ªåŠ¨è°ƒç”¨</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/modprobe.d/disable_ipv6.conf 
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#alias net-pf-10 off</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#alias ipv6 off</span>
</span></span><span style="display:flex;"><span>options ipv6 <span style="color:#008080">disable</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@zstest ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># lsmod |grep ipv6                      </span>
</span></span><span style="display:flex;"><span>ipv6                  <span style="color:#099">335781</span>  <span style="color:#099">14</span> 
</span></span></code></pre></td></tr></table>
</div>
</div></div>
<div class="disqus">
  <div id="disqus_thread"></div>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqusjs.css">
<script src="https://cdn.jsdelivr.net/gh/sy123s/blog@master/js/disqus.js"></script>
<script>
var dsqjs = new DisqusJS({
    shortname: 'sy123-ml',
    siteName: 'zhili',
    identifier: '',
    url: '',
    title: '',
    api: 'https://disqus.gd2.workers.dev/api/',
    apikey: 'gZw0N3utfdxezjRheJwLz3xkiUcRWno3ruWSIROPHRcYNGmwBosRpnyb8MmiknVg',
    admin: 'disqus_wvCW9l8bmG',
    adminLabel: 'zhili'
});
</script>
                            
</div>

  </article>
</main>
<footer>
  <div>
    <div>
      2007-2022 zhili.</div>
  </div>
</footer>
</body>
</html>
